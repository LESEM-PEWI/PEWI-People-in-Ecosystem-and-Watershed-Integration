<!DOCTYPE html>

<!--
The results page is displayed as an iframe within index.html.
The graphics and table are generated by front end javascript, resultsDisplay.js

This page has numerous elements laid out that are added to by d3 framework. The
 d3 code is somewhat tedious, but works well for our purposes. This page really interacts
 with the upper level javascript.

There are year toggles and a few buttons on the page whose functionality have to be kept
  in mind. Also, the page is a psuedo-tabbed pag with two containers swapping visibility
  as users switch back and forth between them.

Much of the styling on the page is for elements that are not yet made, but will be added
  to the page by the javascript.

Cleaned and Prepared - August 2016
-->

<html>

<head>
  <meta charset="utf-8">
  <title>Workspace - Results</title>
  <!-- INCLUDES -->
  <!--css-->
  <link rel="stylesheet" type="text/css" href="style_resultFrame.css">

  <!-- import JQuery -->
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script> -->
  <!-- import jsPDF -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js" type="text/javascript"></script> -->
  <!-- external js -->
  <script src="results_scripts.js"></script>
  <script src="../lib/jquery-3.2.1.min.js"></script>
  <!-- <script src="resultsPDF.js"></script> -->

</head>

<body>
  <div id="results-header">

    <div style="visibility:hidden;" id="upTo"></div>
    <div style="visibility:hidden;" id="landYear"></div>
    <div style="visibility:hidden;" id="ecoYear"></div>

    <!-- "Business bars graphic" by Flaticon (https://www.flaticon.com/) with free commercial use -->
    <div id="tab1" class="tabSelected" onclick="toggleToTab(1);"><img src="./imgs/graphIcon.png" />
      <span class="tab1text">Graphics</span>
    </div>
    <!-- "Abacus silhouette" by Freepik (https://www.freepik.com/) with free commercial use -->
    <div id="tab2" class="tab" onclick="toggleToTab(2);"><img src="./imgs/numbersIcon.png" />
      <span class="tab2text">Tables</span>
    </div>
    <div id="tab3" class="tab" onclick="toggleToTab(3);"><img src="./imgs/moneybag.png" />
      <span class="tab3text">Econ</span>
    </div>

  </div>

  <div id="centralContentHolder">
    <div id="innerContainer">
      <div id="graphics">
        <div id="contentsG">
          <div id= "landUseTitle">Area by Land-Use</div>
          <div id="landUseTypeContainer" class="graph-section">
            <div id="yearHolder">
              <div id="yearArrows">
                <div id="yearText" >Change Years</div>
                <div id="yearUpLand" onclick="changeLandPieBy(1);" class="upArrow"></div>
                <div id="yearDownLand" onclick="changeLandPieBy(-1);" class="downArrow"></div>
              </div>

              <div id="toggleYearPie" onclick="switchLandPie(1)">To Categories</div>
            </div>

            <div id="landusePieChart"></div>

          </div>

          <!-- Aster HUD Deprecated, along with the functions that support it
                               code is left for future implementations, if needed -->
          <!--
                        <div id="asterChart"></div>

                        <div id="yearHolder2">
                            <div id="yearUpESI" onclick="changeESIAsterBy(1);" class="upArrow"></div>
                            <div id="yearDownESI" onclick="changeESIAsterBy(-1);" class="downArrow"></div>
                        </div>


                        <div id="asterHUD">
                            <div id="asterContainer"></div>
                        </div>
                        -->

          <div id="radarContainer" class="graph-section">
            <div id="radarChart"></div>
            <div id="radarLegend"></div>
          </div>

          <div id="precipSection" class="graph-section">
            <div id="PrecipitationTitle"> Annual Precipitation</div>
            <div id="precipInfo" class="precipInfo"></div>
            <div id="precipTitle">
              <img src="./imgs/precipBack.png" alt="Precipitation">
            </div>
            <svg id="precipChart"></svg>
          </div>

        </div>
      </div>

      <div style="display:none;" id="numbers"><br>
        <div id="contentsN" style="margin:10px; margin-top:2px;"></div>
      </div>

      <div style="display:none;" id="econ"><br>
        <div style="display:none;" id="budgetTables"><br>
          <div id = "goBackButton" onclick="goBackToEcon();" style="margin:10px; margin-top:5px;">
            <h3> Click here to go back </h3>
          </div>
          <div id="enterpriseBudgetTables" style="margin:10px; margin-top:5px;"></div>
          <h4> Select Land Use </h4>
          <select id = "tables" onchange="showTable();">
            <option value="empty">                    </option>
            <option value="cnvCornCornOption">Conventional Corn after Corn</option>
            <option value="cnvCornSoyOption">Conventional Corn after Soybean</option>
            <option value="csvCornCornOption">Conservation Corn after Corn </option>
            <option value="csvCornSoyOption">Conservation Corn after Soybean</option>
            <option value="cnvSoybeanOption">Conventional Soybean</option>
            <option value="csvSoybeanOption">Conservation Soybean</option>
            <option value="alfalfaOption">Alfalfa</option>
            <option value="pPastureOption">Permanent Pasture</option>
            <option value="rGrazingOption">Rotational Grazing</option>
            <option value="gHayOption">Grass Hay</option>
            <option value="prairieOption">Prairie</option>
            <option value="csvForestOption">Conservation Forest</option>
            <option value="cnvForestOption">Conventional Forest</option>
            <option value="herbOption">Herbaceous Perrinial Bioenergy</option>
            <option value="sRWBOption">Short-rotation Woody Bioenergy</option>
            <option value="wetlandOption">Wetland</option>
            <option value="mfvOption">Mixed Fruit & Vegetables</option>
          </select>
        </div>

        <div>
          <ul class="accordion">

          <li>
            <a class="toggle" href="javascript:void(0);" id="plus">Conventional Corn</a>
            <ul class="inner">
            <li>
            <a href="#" class="toggle" onclick="getTotalForTandA(1)" id="plus">Corn after Soybean</a>
            <ul class = "inner">
             <li>
               <a href="javascript:;"  class="toggle" id="plus">Time for Conventional Corn after Soybean</a>
               <div class="inner" id="convCornT">
               </div>
             </li>
             <li>
               <a href="javascript:;" class="toggle" id="plus">Action for Conventional Corn after Soybean</a>
               <div class="inner" id="convCornA">
               </div>
             </li>
            </ul>
           </li>

           <li>
             <a href="#" class="toggle" onclick="getTotalForTandA(2)" id="plus">Corn after Corn</a>
             <ul class = "inner">
               <li>
                 <a href="javascript:;"  class="toggle" id="plus">Time for Conventional Corn after Corn</a>
                 <div class="inner" id="convCornT2">
                 </div>
               </li>
               <li>
                 <a href="javascript:;" class="toggle" id="plus">Action for Conventional Corn after Corn</a>
                 <div class="inner" id="convCornA2">
                 </div>
               </li>
             </ul>
           </li>
           </ul>
         </li>

         <li>
           <a class="toggle" href="javascript:void(0);" id="plus">Conservation Corn</a>
           <ul class="inner">
             <li>
               <a href="#" class="toggle" onclick="getTotalForTandA(3)" id="plus">Corn after Soybean</a>
               <ul class = "inner">
                 <li>
                   <a href="javascript:;" class="toggle" id="plus">Time for Conservation Corn after Soybean</a>
                   <div class="inner" id="consCornT">
                   </div>
                 </li>
                 <li>
                   <a href="javascript:;" class="toggle" id="plus">Action for Conservation Corn after Soybean</a>
                   <div class="inner" id="consCornA">
                   </div>
                 </li>
               </ul>
             </li>
             <li>
               <a href="#" class="toggle" onclick="getTotalForTandA(4)" id="plus">Corn after Corn</a>
               <ul class = "inner">
                 <li>
                   <a href="javascript:;"  class="toggle" id="plus">Time for Conservation Corn after Corn</a>
                   <div class="inner" id="consCornT2">
                   </div>
                 </li>
                 <li>
                   <a href="javascript:;" class="toggle" id="plus">Action for Conservation Corn after Corn</a>
                   <div class="inner" id="consCornA2">
                   </div>
                 </li>
               </ul>
             </li>
           </ul>


         <li>
           <a class="toggle" onclick="getTotalForTandA(5)" href="javascript:void(0);" id="plus">Conventional Soybean</a>
           <ul class="inner">
             <li>
               <a href="#"  class="toggle" id="plus">Time for Conventional Soybean</a>
               <div class="inner" id="convSoybeanT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Conventional Soybean</a>
               <div class="inner" id="convSoybeanA">
               </div>
             </li>
           </ul>
         </li>
         <li>
           <a class="toggle" onclick="getTotalForTandA(6)" href="javascript:void(0);" id="plus">Conservation Soybean</a>
           <ul class="inner">
             <li>
               <a href="#"  class="toggle" id="plus">Time for Conservation Soybean</a>
               <div class="inner" id="consSoybeanT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Conservation Soybean</a>
               <div class="inner" id="consSoybeanA">
               </div>
             </li>
           </ul>
         </li>


         <li>
           <a class="toggle" onclick="getTotalForTandA(7)" href="javascript:void(0);" id="plus">Alfalfa</a>
           <ul class="inner">
             <li>
               <a href="#"  class="toggle" id="plus">Time for Alfalfa</a>
               <div class="inner" id="alfalfaT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Alfalfa</a>
               <div class="inner" id="alfalfaA">
               </div>
             </li>
           </ul>
         </li>
         <li>
           <a class="toggle" onclick="getTotalForTandA(8)" href="javascript:void(0);" id="plus">Permanent Pasture</a>
           <ul class="inner">
             <li>
               <a href="#"  class="toggle" id="plus">Time for Permanent Pasture</a>
               <div class="inner" id="permanentPastureT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Permanent Pasture</a>
               <div class="inner" id="permanentPastureA">
               </div>
             </li>
           </ul>
         </li>


         <li>
           <a class="toggle" onclick="getTotalForTandA(9)" href="javascript:void(0);" id="plus">Rotational Grazing</a>
           <ul class="inner">
             <li>
               <a href="#"  class="toggle" id="plus">Time for Rotational Grazing</a>
               <div class="inner" id="rotationalGrazingT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Rotational Grazing</a>
               <div class="inner" id="rotationalGrazingA">
               </div>
             </li>
           </ul>
         </li>
         <li>
           <a class="toggle" onclick="getTotalForTandA(10)" href="javascript:void(0);" id="plus">Grass Hay</a>
           <ul class="inner">
             <li>
               <a href="#"  class="toggle" id="plus">Time for Grass Hay</a>
               <div class="inner" id="grassHayT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Grass Hay</a>
               <div class="inner" id="grassHayA">
               </div>
             </li>
           </ul>
         </li>


         <li>
           <a class="toggle" onclick="getTotalForTandA(11)" href="javascript:void(0);" id="plus">Prairie</a>
           <ul class="inner">
             <li>
               <a href="#"  class="toggle" id="plus">Time for Prarie</a>
               <div class="inner" id="prairieT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Prairie</a>
               <div class="inner" id="prairieA">
               </div>
             </li>
           </ul>
         </li>


         <li>
           <a class="toggle" onclick="getTotalForTandA(12)" href="javascript:void(0);" id="plus">Conservation Forest</a>
           <ul class="inner">
             <li>
               <a href="#" class="toggle" id="plus">Time for Conservation Forest</a>
               <div class="inner" id="consForestT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Conservation Forest</a>
               <div class="inner" id="consForestA">
               </div>
             </li>
           </ul>
         </li>
         <li>


           <a class="toggle" onclick="getTotalForTandA(13)" href="javascript:void(0);" id="plus">Conventional Forest</a>
           <ul class="inner">
             <li>
               <a href="#"  class="toggle" id="plus">Time for Conventional Forest</a>
               <div class="inner" id="convForestT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Conventional Forest</a>
               <div class="inner" id="convForestA">
               </div>
             </li>
           </ul>
         </li>


         <li>
           <a class="toggle" onclick="getTotalForTandA(14)" href="javascript:void(0);" id="plus">Switchgrass</a>
           <ul class="inner">
             <li>
               <a href="#"  class="toggle" id="plus">Time for Switchgrass</a>
               <div class="inner" id="switchgrassT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Switchgrass</a>
               <div class="inner" id="switchgrassA">
               </div>
             </li>
           </ul>
         </li>


         <li>
           <a class="toggle" onclick="getTotalForTandA(15)" href="javascript:void(0);" id="plus">Short-Rotation Woody Bioenergy</a>
           <ul class="inner">
             <li>
               <a href="#" class="toggle" id="plus">Time for Short-Rotation Woody Bioenergy</a>
               <div class="inner" id="shortRWBT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Short-Rotation Woody Bioenergy</a>
               <div class="inner" id="shortRWBA">
               </div>
             </li>
           </ul>
         </li>


         <li>
           <a class="toggle" onclick="getTotalForTandA(16)" href="javascript:void(0);" id="plus">Wetland</a>
           <ul class="inner">
             <li>
               <a href="#"  class="toggle" id="plus">Time for Wetland</a>
               <div class="inner" id="wetlandT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Wetland</a>
               <div class="inner" id="wetlandA">
               </div>
             </li>
           </ul>
         </li>


         <li>
           <a class="toggle" onclick="getTotalForTandA(17)" href="javascript:void(0);" id="plus">Mixed Fruits & Vegetables</a>
           <ul class="inner">
             <li>
               <a href="#"  class="toggle" id="plus">Time for Mixed Fruits & Vegetables</a>
               <div class="inner" id="mixedFaVT">
               </div>
             </li>
             <li>
               <a href="#" class="toggle" id="plus">Action for Mixed Fruits & Vegetables</a>
               <div class="inner" id="mixedFaVA">
               </div>
             </li>
           </ul>
        </div>

        <a href="#" onclick="enterpriseBudgets()">View Enterprise Budgets</a>



        <div id="graphContainer">
          <div class="leftE">
            <div class="holder"></div>
            <div id="yearTextEcon">Year</div>
            <div id="yearArrowsEcon">
              <div id="yearUpEcon" onclick="changeEconPieBy(1);" class="upArrowEcon"></div>
              <div id="yearDownEcon" onclick="changeEconPieBy(-1);" class="downArrowEcon"></div>
            </div>
          </div>
          <div class = "rightE" id="econPieChart"></div>
        </div>
      </div>

      <script>
        $('.toggle').click(function(e) {
          e.preventDefault();
          var $this = $(this);
          //for closing
          if ($this.next().hasClass('show')) {
            $this.next().removeClass('show');
            $this.next().slideUp(350);
            this.setAttribute("id", "plus");
          } else {

            //for opening
            //do something with inner HTML, hardcode it.
            $this.parent().parent().find('li .inner').removeClass('show');
            $this.parent().parent().find('li .inner').slideUp(350);
            $this.next().toggleClass('show');
            $this.next().slideToggle(350);
            //Plus and minus sign
            var hrefs = new Array();
            $('a.toggle').each(function(){
              hrefs.push($this.parent().parent().find('a').attr('href'));
              if(($this.parent().parent().find('a').attr("href") === "javascript:void(0);"))
              {
                var x = $this.parent().parent().find('a');
                (x.attr("id", "plus"));
              }
            })
           if($this.next().find('a').attr("href") === "#")
           {
             $this.next().find('a').attr("id", "plus");
           }

           if($this.attr("href") === "javascript:;")
           {
             $( "a" ).attr("id", "plus");
             $this.parents('ul').prev().first().attr("id", "minus");
             $this.parents('ul').prev().first().parents('ul').prev().first().attr("id", "minus");
           }
           if($this.attr("href") === "#")
           {
             $( "a" ).attr("id", "plus");
             $this.parents('ul').prev().first().attr("id", "minus");
           }
           this.setAttribute("id", "minus");
         }
       });
      </script>
    </div>
    </div>
  </div>

</body>

</html>
